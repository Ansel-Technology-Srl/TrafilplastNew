import{j as e}from"./vendor-three-CHCIWYOy.js";import{c as t,r as a}from"./vendor-react-DmByJA4P.js";import{b as s,c as l,a as r}from"./index-CJimMkjr.js";import{u as c}from"./formatters-BFOEvdlG.js";import{e as i,T as n,P as o,f as d,b as x,g as m,X as p,h as g,i as u,G as h,j,k as f,l as b,m as y,n as N,z as v,C,o as w,E as z}from"./vendor-ui-CwcPvQqL.js";import{u as k}from"./vendor-i18n-BveTNVnu.js";function S({product:l,onClose:r,onAddToCart:c,onConfigure:j,formatPrice:f}){const{t:b}=k(),y=t(),N=a.useRef(null),[v,C]=a.useState(!1);if(s(N,!!l,r),a.useEffect(()=>{C(!1)},[l?.prdCod]),!l)return null;const w=l,z=[{label:b("catalog.detail.archivePos"),value:w.posArc,icon:i},{label:b("catalog.detail.origin"),value:w.prvCla,icon:n},{label:b("catalog.detail.site"),value:w.sitCod,icon:o},{label:b("catalog.detail.group"),value:w.grpCod,icon:d},{label:b("catalog.detail.category"),value:w.catCod,icon:d},{label:b("catalog.detail.tree"),value:w.treeCod,icon:i},{label:b("catalog.detail.family"),value:w.famCod,icon:i},{label:b("catalog.detail.bom"),value:w.diBaCod,icon:o},{label:b("catalog.detail.cfgTipo"),value:w.cfgTipo,icon:x},{label:b("catalog.detail.cfgColore"),value:w.cfgColore,icon:m}].filter(e=>e.value),S=w.traduzioni||{};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:[e.jsx("div",{className:"fixed inset-0 bg-black/40"}),e.jsxs("div",{ref:N,className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[85vh] overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"product-detail-title",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex items-start justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-400 font-mono",children:w.prdCod}),e.jsx("h2",{id:"product-detail-title",className:"text-lg font-bold mt-1",children:w.prdDes}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:w.prdUm}),w.isConfigurabile&&e.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full font-medium",children:b("catalog.configurable")})]})]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded","aria-label":b("a11y.closeModal"),children:e.jsx(p,{size:20,"aria-hidden":"true"})})]}),e.jsxs("div",{className:"px-6 py-4 space-y-5",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:b("catalog.price")}),e.jsx("p",{className:"text-2xl font-bold mt-1 "+(null!=w.prezzo?"text-primary-600":"text-gray-300"),children:f(w.prezzo)||b("catalog.noPrice")}),w.listino&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[b("catalog.detail.priceList"),": ",w.listino]})]}),e.jsx("div",{children:w.isConfigurabile?e.jsxs("button",{onClick:()=>{r(),j(w)},className:"btn-primary flex items-center gap-2",children:[e.jsx(g,{size:16})," ",b("catalog.configure")]}):null!=w.prezzo?e.jsxs("button",{onClick:()=>{c(w),r()},className:"btn-success flex items-center gap-2",children:[e.jsx(u,{size:16})," ",b("catalog.addToCart")]}):e.jsxs("button",{onClick:()=>{r(),y("/configuratore")},className:"btn-secondary flex items-center gap-2",children:[e.jsx(g,{size:16})," ",b("catalog.goToConfigurator")]})})]}),e.jsxs("div",{className:"flex gap-4",children:[z.length>0&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:b("catalog.detail.technicalInfo")}),e.jsx("div",{className:"space-y-2",children:z.map((t,a)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded text-sm",children:[e.jsx(t.icon,{size:14,className:"text-gray-400 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-500",children:[t.label,":"]}),e.jsx("span",{className:"font-medium text-gray-700 truncate",children:t.value})]},a))})]}),e.jsx("div",{className:"w-48 h-48 flex-shrink-0 rounded overflow-hidden bg-white flex items-center justify-center",children:!v&&e.jsx("img",{src:`/Image/${w.prdCod.replace(/ /g,"_")}.png`,alt:"",className:"w-full h-full object-contain",onError:()=>C(!0)})})]}),Object.keys(S).length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(h,{size:14})," ",b("catalog.detail.translations")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-blue-50 rounded text-sm",children:[e.jsx("span",{className:"bg-blue-200 text-blue-800 text-xs font-bold px-1.5 py-0.5 rounded uppercase flex-shrink-0",children:"IT"}),e.jsx("span",{className:"text-gray-700",children:w.prdDesOriginale})]}),Object.entries(S).map(([t,a])=>e.jsxs("div",{className:"flex items-start gap-3 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"bg-gray-200 text-gray-600 text-xs font-bold px-1.5 py-0.5 rounded uppercase flex-shrink-0",children:t}),e.jsx("span",{className:"text-gray-600",children:a||e.jsx("em",{className:"text-gray-300",children:b("catalog.detail.noTranslation")})})]},t))]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t px-6 py-3 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn-secondary text-sm",children:b("common.close")})})]})]})}function P(){const{t:s,i18n:i}=k(),n=t(),d=l(e=>e.addItem),x=c(),[m,h]=a.useState([]),[P,T]=a.useState({page:1,pageSize:24,total:0,totalPages:0}),[D,U]=a.useState(!0),[E,A]=a.useState(null),[I,$]=a.useState(""),[M,F]=a.useState(""),[B,R]=a.useState(""),[O,G]=a.useState(""),[L,V]=a.useState(""),[_,q]=a.useState("code"),[H,J]=a.useState("asc"),[K,Q]=a.useState([]),[W,X]=a.useState([]),[Y,Z]=a.useState([]),[ee,te]=a.useState("grid"),[ae,se]=a.useState(!1),[le,re]=a.useState(null),[ce,ie]=a.useState(!1),[ne,oe]=a.useState(new Set),de=e=>`/Image/${e.replace(/ /g,"_")}.png`;a.useEffect(()=>{xe()},[]),a.useEffect(()=>{B&&me(B)},[B]),a.useEffect(()=>{pe(1)},[i.language,B,O,L,_,H]);const xe=async()=>{const e=await r.get("/prodotti/filtri");e?.success&&(Q(e.data.categorie||[]),X(e.data.famiglie||[]),Z(e.data.gruppi||[]))},me=async e=>{const t=await r.get(`/prodotti/filtri/famiglie?catCod=${encodeURIComponent(e)}`);t?.success&&(X(t.data||[]),O&&!t.data.some(e=>e.codice===O)&&G(""))},pe=a.useCallback(async(e=1)=>{U(!0);const t=new URLSearchParams;t.set("page",e.toString()),t.set("pageSize","24"),"it"!==i.language&&t.set("lang",i.language),B&&t.set("catCod",B),O&&t.set("famCod",O),L&&t.set("grpCod",L),M&&t.set("search",M),_&&t.set("sortBy",_),H&&t.set("sortDir",H);const a=await r.get(`/prodotti?${t}`);a?.success&&(h(a.data),T(a.pagination),A(a.listino)),U(!1)},[i.language,B,O,L,M,_,H]),ge=()=>{$(""),F("")},ue=()=>{R(""),G(""),V(""),$(""),F(""),q("code"),J("asc")},he=B||O||L||M,je=e=>{null!=e.prezzo?(d({prdCod:e.prdCod,prdDes:e.prdDes,prdUm:e.prdUm,quantita:1,prezzoUnitario:e.prezzo}),v.success(s("catalog.addedToCart",{product:e.prdDes}))):v.error(s("catalog.noPriceAvailable"))},fe=async e=>{ie(!0);const t="it"!==i.language?`?lang=${i.language}`:"",a=await r.get(`/prodotti/${encodeURIComponent(e)}${t}`);a?.success&&re(a.data),ie(!1)},be=e=>{n("/configuratore",{state:{fromProduct:e}})},ye=e=>{e>=1&&e<=P.totalPages&&(pe(e),window.scrollTo({top:0,behavior:"smooth"}))},Ne=e=>null!=e?x.currency(e):null;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"text-primary-600",size:24}),e.jsx("h1",{className:"text-2xl font-bold",children:s("catalog.title")}),!D&&e.jsxs("span",{className:"text-sm text-gray-400",children:["(",P.total," ",s("catalog.productsCount"),")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex border rounded overflow-hidden",children:[e.jsx("button",{onClick:()=>te("grid"),className:"p-2 "+("grid"===ee?"bg-primary-600 text-white":"bg-white text-gray-400 hover:text-gray-600"),title:s("catalog.gridView"),children:e.jsx(j,{size:18})}),e.jsx("button",{onClick:()=>te("list"),className:"p-2 "+("list"===ee?"bg-primary-600 text-white":"bg-white text-gray-400 hover:text-gray-600"),title:s("catalog.listView"),children:e.jsx(f,{size:18})})]}),e.jsx("button",{onClick:()=>se(!ae),className:"md:hidden p-2 rounded border "+(ae?"bg-primary-50 border-primary-300 text-primary-600":""),children:e.jsx(b,{size:18})})]})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsxs("form",{onSubmit:e=>{e.preventDefault(),F(I),pe(1)},className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(y,{className:"absolute left-3 top-2.5 text-gray-400",size:18}),e.jsx("input",{type:"text",value:I,onChange:e=>$(e.target.value),placeholder:s("catalog.searchPlaceholder"),className:"input-field pl-10 pr-8"}),I&&e.jsx("button",{type:"button",onClick:()=>{$(""),M&&F("")},className:"absolute right-3 top-2.5 text-gray-300 hover:text-gray-500",children:e.jsx(p,{size:16})})]}),e.jsx("button",{type:"submit",className:"btn-primary px-4",children:e.jsx(y,{size:16})}),e.jsxs("button",{type:"button",onClick:()=>se(!ae),className:"hidden md:flex items-center gap-2 px-3 py-2 rounded border text-sm\n              "+(ae?"bg-primary-50 border-primary-300 text-primary-600":"border-gray-300 text-gray-600 hover:bg-gray-50"),children:[e.jsx(N,{size:16}),s("catalog.filters"),he&&e.jsx("span",{className:"bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:[B,O,L,M].filter(Boolean).length})]})]}),ae&&e.jsxs("div",{className:"mt-4 pt-4 border-t grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:s("catalog.category")}),e.jsxs("select",{value:B,onChange:e=>{R(e.target.value),G(""),V("")},className:"input-field text-sm",children:[e.jsx("option",{value:"",children:s("catalog.allCategories")}),K.map(t=>e.jsxs("option",{value:t.codice,children:[t.codice," (",t.count,")"]},t.codice))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:s("catalog.family")}),e.jsxs("select",{value:O,onChange:e=>{G(e.target.value),V("")},className:"input-field text-sm",children:[e.jsx("option",{value:"",children:s("catalog.allFamilies")}),W.map(t=>e.jsxs("option",{value:t.codice,children:[t.codice," (",t.count,")"]},t.codice))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:s("catalog.group")}),e.jsxs("select",{value:L,onChange:e=>V(e.target.value),className:"input-field text-sm",children:[e.jsx("option",{value:"",children:s("catalog.allGroups")}),Y.map(t=>e.jsxs("option",{value:t.codice,children:[t.codice," (",t.count,")"]},t.codice))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:s("catalog.sortBy")}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("select",{value:_,onChange:e=>q(e.target.value),className:"input-field text-sm flex-1",children:[e.jsx("option",{value:"code",children:s("catalog.code")}),e.jsx("option",{value:"desc",children:s("catalog.description")}),e.jsx("option",{value:"cat",children:s("catalog.category")})]}),e.jsx("button",{onClick:()=>J(e=>"asc"===e?"desc":"asc"),className:"px-2 py-1 border rounded text-sm hover:bg-gray-50",title:"asc"===H?"Ascendente":"Discendente",children:"asc"===H?"↑":"↓"})]})]})]})]}),he?e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[s("catalog.activeFilters"),":"]}),B&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-medium",children:[s("catalog.category"),": ",B,e.jsx("button",{onClick:()=>{R(""),G(""),V("")},className:"hover:text-primary-900",children:e.jsx(p,{size:12})})]}),O&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:[s("catalog.family"),": ",O,e.jsx("button",{onClick:()=>G(""),className:"hover:text-blue-900",children:e.jsx(p,{size:12})})]}),L&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[s("catalog.group"),": ",L,e.jsx("button",{onClick:()=>V(""),className:"hover:text-green-900",children:e.jsx(p,{size:12})})]}),M&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:['"',M,'"',e.jsx("button",{onClick:ge,className:"hover:text-yellow-900",children:e.jsx(p,{size:12})})]}),e.jsx("button",{onClick:ue,className:"text-xs text-gray-400 hover:text-gray-600 underline ml-2",children:s("catalog.clearAll")})]}):null,D?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"}),e.jsx("p",{className:"mt-3 text-gray-500",children:s("app.loading")})]}):0===m.length?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(o,{className:"mx-auto text-gray-300 mb-3",size:48}),e.jsx("p",{className:"text-gray-500 font-medium",children:s("catalog.noProducts")}),he&&e.jsx("button",{onClick:ue,className:"mt-2 text-sm text-primary-600 hover:underline",children:s("catalog.clearFilters")})]}):"grid"===ee?e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:m.map(t=>e.jsxs("div",{className:"card hover:shadow-md transition-shadow group flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("p",{className:"text-xs text-gray-400 font-mono",children:t.prdCod}),e.jsxs("div",{className:"flex items-center gap-1",children:[t.isConfigurabile&&e.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full font-medium",children:s("catalog.configurable")}),e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded",children:t.prdUm})]})]}),e.jsxs("div",{className:"flex gap-3 mb-3 flex-1",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm leading-tight mb-1 line-clamp-2 min-h-[2.5rem]",children:t.prdDes}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.catCod&&e.jsx("span",{className:"text-[10px] bg-gray-50 text-gray-400 px-1.5 py-0.5 rounded",children:t.catCod}),t.famCod&&e.jsx("span",{className:"text-[10px] bg-gray-50 text-gray-400 px-1.5 py-0.5 rounded",children:t.famCod})]})]}),e.jsx("div",{className:"w-24 h-24 flex-shrink-0 rounded overflow-hidden bg-white flex items-center justify-center",children:!ne.has(t.prdCod)&&e.jsx("img",{src:de(t.prdCod),alt:"",className:"w-full h-full object-contain",onError:()=>oe(e=>new Set(e).add(t.prdCod))})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t",children:[e.jsx("span",{className:"text-lg font-bold "+(null!=t.prezzo?"text-primary-600":"text-gray-300"),children:Ne(t.prezzo)||s("catalog.noPrice")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(t.prdCod),className:"p-2 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600",title:s("catalog.viewDetail"),children:e.jsx(z,{size:16})}),t.isConfigurabile?e.jsxs("button",{onClick:()=>be(t),className:"btn-primary flex items-center gap-1 text-sm py-1.5 px-3",children:[e.jsx(g,{size:14})," ",s("catalog.configure")]}):null!=t.prezzo?e.jsxs("button",{onClick:()=>je(t),className:"btn-success flex items-center gap-1 text-sm py-1.5 px-3",children:[e.jsx(u,{size:14})," ",s("catalog.addToCart")]}):e.jsxs("button",{onClick:()=>n("/configuratore"),className:"btn-secondary flex items-center gap-1 text-sm py-1.5 px-3",children:[e.jsx(g,{size:14})," ",s("catalog.goToConfigurator")]})]})]})]},t.prdCod))}):e.jsx("div",{className:"card overflow-hidden p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm","aria-label":s("a11y.tableCaption.products"),children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b",children:[e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:s("catalog.code")}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:s("catalog.description")}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:s("catalog.category")}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:s("catalog.family")}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase",children:s("catalog.um")}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:s("catalog.price")}),e.jsx("th",{scope:"col",className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:s("catalog.actions")})]})}),e.jsx("tbody",{children:m.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 border-b last:border-b-0",children:[e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-gray-50 flex-shrink-0 flex items-center justify-center",children:!ne.has(t.prdCod)&&e.jsx("img",{src:de(t.prdCod),alt:"",className:"w-full h-full object-contain",onError:()=>oe(e=>new Set(e).add(t.prdCod))})}),e.jsx("span",{className:"font-mono text-xs text-gray-500",children:t.prdCod})]})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:t.prdDes}),t.isConfigurabile&&e.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded-full font-medium whitespace-nowrap",children:s("catalog.configurable")})]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:t.catCod||"-"})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"text-xs text-gray-500",children:t.famCod||"-"})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded",children:t.prdUm})}),e.jsx("td",{className:"px-3 py-3 text-right",children:e.jsx("span",{className:"font-semibold "+(null!=t.prezzo?"text-primary-600":"text-gray-300"),children:Ne(t.prezzo)||"-"})}),e.jsx("td",{className:"px-3 py-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx("button",{onClick:()=>fe(t.prdCod),className:"p-1.5 rounded hover:bg-gray-100 text-gray-400 hover:text-gray-600",title:s("catalog.viewDetail"),children:e.jsx(z,{size:15})}),t.isConfigurabile?e.jsxs("button",{onClick:()=>be(t),className:"btn-primary text-xs py-1 px-2 flex items-center gap-1",children:[e.jsx(g,{size:13})," ",s("catalog.configure")]}):null!=t.prezzo?e.jsxs("button",{onClick:()=>je(t),className:"btn-success text-xs py-1 px-2 flex items-center gap-1",children:[e.jsx(u,{size:13})," ",s("catalog.add")]}):e.jsxs("button",{onClick:()=>n("/configuratore"),className:"btn-secondary text-xs py-1 px-2 flex items-center gap-1",children:[e.jsx(g,{size:13})," ",s("catalog.goToConfigurator")]})]})})]},t.prdCod))})]})})}),(()=>{if(P.totalPages<=1)return null;const t=P.page,a=P.totalPages;let l=Math.max(1,t-2),r=Math.min(a,t+2);return t<=3&&(r=Math.min(5,a)),t>=a-2&&(l=Math.max(1,a-4)),e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-gray-500",children:s("catalog.showing",{from:(t-1)*P.pageSize+1,to:Math.min(t*P.pageSize,P.total),total:P.total})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(t-1),disabled:1===t,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(C,{size:18})}),l>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ye(1),className:"px-3 py-1 rounded text-sm hover:bg-gray-100",children:"1"}),l>2&&e.jsx("span",{className:"px-1 text-gray-400",children:"…"})]}),Array.from({length:r-l+1},(e,t)=>l+t).map(a=>e.jsx("button",{onClick:()=>ye(a),className:"px-3 py-1 rounded text-sm "+(a===t?"bg-primary-600 text-white font-medium":"hover:bg-gray-100"),children:a},a)),r<a&&e.jsxs(e.Fragment,{children:[r<a-1&&e.jsx("span",{className:"px-1 text-gray-400",children:"…"}),e.jsx("button",{onClick:()=>ye(a),className:"px-3 py-1 rounded text-sm hover:bg-gray-100",children:a})]}),e.jsx("button",{onClick:()=>ye(t+1),disabled:t===a,className:"p-2 rounded hover:bg-gray-100 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(w,{size:18})})]})]})})(),le&&e.jsx(S,{product:le,onClose:()=>re(null),onAddToCart:je,onConfigure:be,formatPrice:Ne})]})}export{P as default};
